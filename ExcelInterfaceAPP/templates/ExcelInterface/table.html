{% extends "home.html" %}


{% block content %}

<div style="display: flex; justify-content: space-between; align-items: center; width: 100%;">
    <form method="POST" enctype="multipart/form-data" style="display: flex; align-items: center; width: 100%;">
        {% csrf_token %}
        <label for="formFileUpload" style="margin-right: 10px; padding-bottom: 10px;">Arquivo Excel</label>
        <div style="margin: 25px;">
            {{form.as_p}}
        </div>
        <button type="submit" class="btn btn-primary" style="margin-left: 2px;">Submit</button>
    </form>
</div>


<div class="container">
    <h2>Planilha Principal</h2>
    <div class="search-filter">
      <input type="text" id="searchInput" placeholder="Pesquisar..." />
      <select id="columnFilter">
        <option value="">Todas as Colunas</option>
        <option value="0">Coluna 1</option>
        <option value="1">Coluna 2</option>
        <option value="2">Coluna 3</option>
      </select>
    </div>

    {% if dados %}
    <table id="excelTable">
        <thead>
            <tr>
                {% for coluna in dados.0.keys %}
                    <th>{{ coluna }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for linha in dados %}
                <tr>
                    {% for valor in linha.values %}
                        <td>{{ valor }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}


{% endblock %}